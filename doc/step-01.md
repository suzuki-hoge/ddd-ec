# ステップ01
ECサイトの様な物を作成する

## 概要
+ Webサイトで本を選択して購入する
+ 本は5冊まで同時に購入できる
+ 購入すると近くのコンビニ、もしくは指定の住所に配送される
+ 購入するとメールが届く
+ 支払い方法はクレジットカード、もしくはコンビニ払いか着払い
  + コンビニ払いはコンビニ受け取り時のみ、着払いは住所指定時のみ
  + クレジットカード払いはどちらを指定しても可
+ 購入にはアカウント登録が必要である

### 検索
Webサイトでは以下の条件で本を検索することが出来る

+ ジャンル
  + 小説、コミック、学術書から1つ以上選択
+ 言語
  + 日本語、英語から1つ以上選択

選択した本はカートに入れ、選択が済んだら購入処理に進む

### 購入
先述の通り、以下を入力する

+ 配送先
+ 支払い方法
+ メールアドレス
+ アカウント
  + 購入処理の段階ではログイン処理は済んでいるとする

## API
### 検索
以下を受ける

+ ジャンル
+ 言語

以下を返す

+ 本

### 購入
以下を受ける

+ [ISBM](https://ja.wikipedia.org/wiki/ISBN)
+ コンビニ受け取りの場合はコンビニコード
  + 購入画面で埋め込まれるイメージで、自社で保守しているDBに問い合わせると住所と郵便番号に変換出来る
+ 住所指定の場合は住所と郵便番号
+ クレジットカードの番号か、支払い方法
+ ユーザID
+ セッションID
  + ログインにより事前に払い出されて埋め込まれているイメージ
+ メールアドレス

以下を行う

+ セッションIDで再認証
+ 入力値の組み合わせチェック
+ 在庫引当
+ 請求
  + クレジットカードのチェックと請求
  + もしくは、コンビニでの支払いコードの払い出し
+ 発送
+ 伝票と明細の記録
  + アカウント、メールアドレス、購入できた購入物を記載する
+ 受付メールの送信
  + 購入できた購入物を記載する
  + 購入できなかった購入物を記載する

以下を返す

+ コンビニ支払いの場合は支払いコードの払い出し
+ 異常時は理由

### 備考
+ APIの入出力はJsonである
+ 文字数バリデーションや、例えば意図している言語名かの様なバリデーションは省略して良い
+ ただし、コンビニ受け取りで着払い等の組み合わせ不備ははじくこと
+ クレジットカードが有効かをクレジットカード会社のAPIを使ってチェックする
+ 万が一在庫が無い場合は、その本だけ発送できなかったとメールで伝え、他は発送する
  + 入庫次第配送は行わなくて良い
+ 倉庫は1つしかない
